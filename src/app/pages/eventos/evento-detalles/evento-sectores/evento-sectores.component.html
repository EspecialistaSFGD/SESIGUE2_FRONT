<div class="flex flex-col bg-white border border-b-0 border-solid border-grey-200">
    <div class="flex items-center justify-between px-4 py-3 border-b border-solid border-grey-200">
        <div class="flex flex-col">
            <h5 class="m-0 text-base font-semibold">Sectores</h5>
            Resultados: {{pagination.total}}
        </div>
		<div class="flex items-center gap-2">
			<app-boton *ngIf="eventoSectores().length === 0" [icono]="'plus'" [texto]="'Generar'" [outline]="true" (click)="generarSectores()"/>
			<app-boton *ngIf="eventoSectores().length > 0" [icono]="'list'" [texto]="'BotÃ³n detallado'" [outline]="true"/>
		</div>
    </div>
    <div class="grid grid-cols-1 border-solid">
        <nz-table  [nzScroll]="{ x: 'max-content' }" class="min-w-full" [nzData]="eventoSectores()"
			[nzFrontPagination]="false" [nzShowPagination]="pagination.total! > 5"
			[nzLoading]="loading" [nzTotal]="pagination.total!" [nzPageSize]="pagination.pageSize!"
			[nzPageIndex]="pagination.currentPage!" (nzQueryParams)="onQueryParamsChange($event)">
			<thead>
				<tr>
					<th nzLeft nzWidth="120px">Sectores</th>
					<th nzAlign="center" nzWidth="120px" nzColumnKey="registraAtencion" [nzSortFn]="true">Atenciones</th>
					<th nzAlign="center" nzWidth="160px" nzColumnKey="cantidadPedidos" [nzSortFn]="true">Pedidos</th>
					<th nzWidth="10px"></th>
				</tr>
			</thead>
			<tbody>
				@for(eventoSector of eventoSectores(); track $index){
				<tr>
					<td nzLeft>{{eventoSector.sector}}</td>
					<td nzAlign="center">
						<p-inputSwitch class="mt-1" [(ngModel)]="eventoSector.registraAtencion" (onChange)="showCantidadSectores(eventoSector, false)"/>
					</td>
					<td nzAlign="center">
						<div class="flex justify-center gap-2">
							<p-inputSwitch class="mt-1" [(ngModel)]="eventoSector.registraPedido" (onChange)="showCantidadSectores(eventoSector)"/>

							<p-inputNumber
							   [(ngModel)]="eventoSector.cantidadPedidos"
							   (ngModelChange)="setCantidadSectores(eventoSector)"
							   [showButtons]="true"
							   [disabled]="!eventoSector.registraPedido"
							   [min]="0"							   
							   buttonLayout="horizontal"
							   incrementButtonIcon="pi pi-plus"
							   decrementButtonIcon="pi pi-minus"
							   class="w-[140px]"/>
						</div>
					</td>
					<td></td>
				<tr>
				}
			</tbody>
		</nz-table>
    </div>
</div>


							   <!-- [disabled]="!(eventoSector.cantidadPedidos === 0)" -->

<p-toast />