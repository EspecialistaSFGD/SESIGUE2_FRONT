<form [formGroup]="formMesa" class="flex flex-col gap-3" autocomplete="off">
	<div class="flex flex-col">
		<label for="nombre">Nombre de la Mesa</label>
		<input type="text" class="form-control" id="nombre" placeholder="Ingrese el nombre aquí" formControlName="nombre">
		<div class="w-full text-danger" *ngIf="alertMessageError('nombre')">{{msgErrorControl('nombre','nombre')}}</div>
	</div>

	<div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
		<div class="flex flex-col">
			<label for="sector">Sector</label>
			<p-dropdown 
				[options]="sectores()"
				formControlName="sectorId"
				optionLabel="nombre"
				optionValue="grupoID"
				[showClear]="true" 
				placeholder="Seleccionar sector"
				(onChange)="changeSector()"/>
			<div class="text-danger" *ngIf="alertMessageError('sectorId')">{{msgErrorControl('sectorId','sector')}}</div>
		</div>

		<div class="flex flex-col col-span-2">
			<label for="sector">Secretaría Técnica</label>
			<p-dropdown 
				[options]="entidadesSector()"
				formControlName="secretariaTecnicaId"
				optionLabel="nombre"
				optionValue="entidadId"
				[showClear]="true" 
				placeholder="Seleccionar secretaría"/>
			<div class="text-danger" *ngIf="alertMessageError('secretariaTecnicaId')">{{msgErrorControl('secretariaTecnicaId','secretaría')}}</div>
		</div>
	</div>

	<div class="flex gap-2">
		<div class="w-full flex flex-col">
			<label for="nombre">Departamento</label>
			<p-dropdown 
				[options]="departamentos()"
				formControlName="departamento"
				optionLabel="departamento"
				optionValue="departamentoId"
				[showClear]="true" 
				placeholder="Seleccionar departamento"
				(onChange)="changeDepartamento()"/>
			<div class="text-danger" *ngIf="alertMessageError('departamento')">{{msgErrorControl('departamento','Departamento')}}</div>
		</div>

		<div class="w-full flex flex-col">
			<label for="nombre">Provincia</label>
			<p-dropdown 
			[options]="provincias()"
			formControlName="provincia"
			optionLabel="provincia"
			optionValue="provinciaId"
			[showClear]="true" 
			placeholder="Seleccionar provincia"
			(onChange)="changeProvincia()"/>
		<div class="text-danger" *ngIf="alertMessageError('provincia')">{{msgErrorControl('provincia','Provincia')}}</div>
		</div>

		<div class="w-full flex flex-col">
			<label for="nombre">Distrito</label>
			<p-dropdown 
			[options]="distritos()"
			formControlName="distrito"
			optionLabel="distrito"
			optionValue="distritoId"
			[showClear]="true" 
			placeholder="Seleccionar distrito"
			(onChange)="changeDistrito()"/>
		<div class="text-danger" *ngIf="alertMessageError('distrito')">{{msgErrorControl('distrito','Distrito')}}</div>
		</div>
	</div>

	<div class="flex gap-4">
		<div class="w-full flex flex-col">
			<label for="nombre">Fecha de creación</label>
			<p-calendar 
			formControlName="fechaCreacion"
			[iconDisplay]="'input'" 
			[showIcon]="true"
			[showButtonBar]="true"
			dateFormat="dd/mm/yy"
			inputId="icondisplay" />
			<div class="w-full text-danger" *ngIf="alertMessageError('fechaCreacion')">{{msgErrorControl('fechaCreacion','fecha de creación')}}</div>
		</div>

		<div class="w-full flex flex-col">
			<label for="nombre">Fecha de vigencia</label>
			<p-calendar 
			formControlName="fechaVigencia"
			[iconDisplay]="'input'" 
			[showIcon]="true"
			[showButtonBar]="true"
			dateFormat="dd/mm/yy"
			inputId="icondisplay" />
			<div class="w-full text-danger" *ngIf="alertMessageError('fechaVigencia')">{{msgErrorControl('fechaVigencia','fecha de vigencia')}}</div>
		</div>

		<div class="w-full flex flex-col">
			<label for="resolucion">Resolución</label>
			<nz-upload [(nzFileList)]="filesList" [nzBeforeUpload]="beforeUploadMeet">
				<div
					class="rounded border border-punche-blue-500 bg-transparent cursor-pointer text-punche-blue-500 px-3 py-1 hover:bg-punche-blue-500 hover:text-white">
					<span nz-icon nzType="upload"></span>
					Selecionar archivo
				</div>
			</nz-upload>
			<div class="w-full text-danger" *ngIf="alertMessageError('resolucion')">{{msgErrorControl('resolucion','resolución')}}</div>
		</div>
	</div>
</form>
